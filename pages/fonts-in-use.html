<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fonts in Use | The Loveprinting Machine Type Foundry</title>
    <meta name="description" content="See our fonts in real-world applications. Beautiful projects using The Loveprinting Machine typefaces across branding, editorial, and digital design.">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="../assets/fonts/retry-sans-mono-regular.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- CSS Modules (components.css includes filter styles) -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/typography.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/responsive.css">
    
    <style>
        /* Page-specific styles for projects grid */
        .projects-grid-section {
            padding: var(--spacing-4xl) 0;
            background: var(--color-white);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-2xl);
            margin-top: var(--spacing-2xl);
        }

        .project-card {
            background: var(--color-white);
            border: 1px solid var(--color-gray-200);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }

        .project-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .project-card--featured {
            grid-column: span 2;
        }

        .project-card__image {
            aspect-ratio: 16/10;
            overflow: hidden;
            background: var(--color-gray-100);
        }

        .project-card__image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .project-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--color-gray-200);
            color: var(--color-gray-500);
            font-size: var(--size-sm);
            text-align: center;
            padding: var(--spacing-lg);
        }

        .project-card__content {
            padding: var(--spacing-lg);
        }

        .project-card__category {
            font-size: var(--size-xs);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-gray-500);
            margin-bottom: var(--spacing-xs);
        }

        .project-card__title {
            font-size: var(--size-lg);
            font-weight: 400;
            margin-bottom: var(--spacing-sm);
            line-height: var(--leading-tight);
        }

        .project-card__description {
            font-size: var(--size-sm);
            line-height: var(--leading-relaxed);
            color: var(--color-gray-600);
        }

        .project-card__meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--color-gray-100);
        }

        .project-card__fonts {
            font-size: var(--size-xs);
            color: var(--color-gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .project-card__year {
            font-size: var(--size-xs);
            color: var(--color-gray-400);
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .projects-grid {
                grid-template-columns: 1fr;
            }

            .project-card--featured {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__logo">
                <a href="../index.html">
                    <img src="../assets/images/logo.png" alt="The Loveprinting Machine" width="40" height="40">
                </a>
            </div>
            <nav class="nav">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="../index.html#fonts" class="nav__link">All fonts</a>
                    </li>
                    <li class="nav__item">
                        <a href="fonts-in-use.html" class="nav__link nav__link--active">Fonts in use</a>
                    </li>
                    <li class="nav__item">
                        <a href="lettering.html" class="nav__link">Custom letters</a>
                    </li>
                    <li class="nav__item">
                        <a href="about.html" class="nav__link">About</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="section bg-white">
            <div class="container">
                <div class="hero-content text-center">
                    <h1 class="text-4xl mb-lg">Fonts in Use</h1>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
                        Here are some beautiful projects using our fonts. You can go check out our 
                        font in use section and don't forget to send us your projects using our 
                        fonts to get featured.
                    </p>
                </div>
            </div>
        </section>

        <!-- Simple Filters Section (styles from components.css) -->
        <section class="simple-filters">
            <div class="container">
                <!-- Filters will be rendered here by the SimpleFiltersComponent -->
                <div id="projectFilters"></div>
            </div>
        </section>

        <!-- Projects Grid Section -->
        <section class="projects-grid-section">
            <div class="container">
                <!-- Projects will be rendered here by the SimpleFiltersComponent -->
                <div class="projects-grid" id="projectsGrid"></div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__brand">
                    <h2 class="footer__title">The Loveprinting Machine</h2>
                    <p class="footer__subtitle">Type Foundry</p>
                </div>
                <div class="footer__nav">
                    <div class="footer__section">
                        <h3 class="footer__heading">Fonts</h3>
                        <ul class="footer__links">
                            <li><a href="../index.html#fonts" class="footer__link">All fonts</a></li>
                            <li><a href="../typeface/retiler.html" class="footer__link">Retiler</a></li>
                            <li><a href="../typeface/retry-sans.html" class="footer__link">Retry Sans</a></li>
                            <li><a href="../typeface/nytra-mono.html" class="footer__link">Nytra Mono</a></li>
                        </ul>
                    </div>
                    <div class="footer__section">
                        <h3 class="footer__heading">Work</h3>
                        <ul class="footer__links">
                            <li><a href="fonts-in-use.html" class="footer__link">Fonts in use</a></li>
                            <li><a href="lettering.html" class="footer__link">Custom letters</a></li>
                        </ul>
                    </div>
                    <div class="footer__section">
                        <h3 class="footer__heading">Info</h3>
                        <ul class="footer__links">
                            <li><a href="about.html" class="footer__link">About</a></li>
                            <li><a href="#" class="footer__link">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer__bottom">
                <div class="footer__copyright">
                    <p>&copy; 2024 The Loveprinting Machine. All rights reserved.</p>
                </div>
                <button class="footer__scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                    â†‘ Back to top
                </button>
            </div>
        </div>
    </footer>

    <!-- JavaScript Modules -->
    <script src="../js/data-loader.js"></script>
    <!-- Simple Filters Component (not old filters.js) -->
    <script src="../js/simple-filters.js"></script>
    
    <script>
        // Initialize projects filter using the modular component
        document.addEventListener('DOMContentLoaded', async function() {
            // Define custom data loader for projects
            async function loadProjectsData() {
                try {
                    if (window.dataLoader && window.dataLoader.getProjects) {
                        const projectsData = await window.dataLoader.getProjects();
                        return projectsData.projects || [];
                    }
                    return [];
                } catch (error) {
                    console.error('Error loading projects:', error);
                    return [];
                }
            }

            // Define custom card renderer for projects
            function renderProjectCard(project) {
                const card = document.createElement('article');
                card.className = `project-card ${project.featured ? 'project-card--featured' : ''}`;
                
                // Format fonts list
                const fontsText = project.usedFonts ? project.usedFonts.join(', ') : '';
                
                card.innerHTML = `
                    <div class="project-card__image">
                        <div class="project-placeholder">
                            ${project.name}
                        </div>
                    </div>
                    <div class="project-card__content">
                        <div class="project-card__category">${project.category}</div>
                        <h2 class="project-card__title">${project.name}</h2>
                        <p class="project-card__description">${project.description}</p>
                        <div class="project-card__meta">
                            <span class="project-card__fonts">Fonts: ${fontsText}</span>
                            <span class="project-card__year">${project.year}</span>
                        </div>
                    </div>
                `;
                
                // Add click handler if link exists
                if (project.link) {
                    card.style.cursor = 'pointer';
                    card.addEventListener('click', () => {
                        window.open(project.link, '_blank');
                    });
                }
                
                return card;
            }

            // Fallback data for projects
            const fallbackProjects = [
                {
                    id: "tech-startup-branding",
                    name: "TechFlow Startup Identity",
                    description: "Complete brand identity for a technology startup focusing on workflow automation. Clean, modern approach with emphasis on clarity and innovation.",
                    category: "branding",
                    year: "2024",
                    usedFonts: ["retiler", "retry-sans"],
                    featured: true,
                    link: "https://behance.net/gallery/techflow-identity"
                },
                {
                    id: "minimal-poster-series",
                    name: "Minimal Architecture Poster Series",
                    description: "A series of architectural posters celebrating modernist buildings. Each poster uses typography as the primary design element.",
                    category: "editorial",
                    year: "2024",
                    usedFonts: ["retiler", "lanze"],
                    featured: true,
                    link: "https://dribbble.com/shots/minimal-architecture"
                },
                {
                    id: "dev-portfolio",
                    name: "Developer Portfolio Website",
                    description: "Personal portfolio website for a full-stack developer. Emphasis on code readability and technical precision.",
                    category: "web",
                    year: "2023",
                    usedFonts: ["nytra-mono", "retry-sans"],
                    featured: false,
                    link: "https://alexrodriguez.dev"
                },
                {
                    id: "animated-logo",
                    name: "Puff Animation Logo",
                    description: "Dynamic logo animation using the Puff variable font. The logo inflates and deflates to create engaging motion graphics.",
                    category: "animation",
                    year: "2024",
                    usedFonts: ["puff"],
                    featured: true,
                    link: "https://codepen.io/loveprinting/puff-animation"
                },
                {
                    id: "design-system",
                    name: "Enterprise Design System",
                    description: "Comprehensive design system for a Fortune 500 company. Includes typography scales, component library, and implementation guidelines.",
                    category: "system",
                    year: "2022",
                    usedFonts: ["retry-sans"],
                    featured: false,
                    link: "https://design.globaltech.com"
                }
            ];

            // Initialize using the factory function from simple-filters.js
            const projectsFilter = createProjectsFilter({
                dataLoader: loadProjectsData,
                fallbackData: fallbackProjects,
                cardRenderer: renderProjectCard,
                onFilterChange: (filter, data) => {
                    console.log(`Filter changed to: ${filter}, showing ${data.length} projects`);
                },
                onDataLoad: (data) => {
                    console.log(`Loaded ${data.length} projects`);
                }
            });

            // Store instance globally if needed for debugging
            window.projectsFilterInstance = projectsFilter;
        });
    </script>
</body>
</html>