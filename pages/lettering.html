<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Lettering | The Loveprinting Machine Type Foundry</title>
    <meta name="description" content="Custom lettering and calligraphy projects. Hand-crafted typography for unique design solutions.">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="../assets/fonts/retry-sans-mono-regular.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- CSS Modules (components.css includes filter styles) -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/typography.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/responsive.css">
    
    <style>
        /* Page-specific styles for lettering grid */
        .lettering-grid-section {
            padding: var(--spacing-4xl) 0;
            background: var(--color-white);
        }

        .lettering-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-xl);
            margin-top: var(--spacing-2xl);
        }

        .lettering-card {
            background: var(--color-white);
            border: 1px solid var(--color-gray-200);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
            cursor: pointer;
        }

        .lettering-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .lettering-card__image {
            aspect-ratio: 4/3;
            overflow: hidden;
            background: var(--color-gray-100);
        }

        .lettering-card__image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .lettering-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--color-gray-200);
            color: var(--color-gray-500);
            font-size: var(--size-sm);
            text-align: center;
            padding: var(--spacing-lg);
        }

        .lettering-card__content {
            padding: var(--spacing-lg);
        }

        .lettering-card__category {
            font-size: var(--size-xs);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-gray-500);
            margin-bottom: var(--spacing-xs);
        }

        .lettering-card__title {
            font-size: var(--size-lg);
            font-weight: 400;
            margin-bottom: var(--spacing-sm);
            line-height: var(--leading-tight);
        }

        .lettering-card__description {
            font-size: var(--size-sm);
            line-height: var(--leading-relaxed);
            color: var(--color-gray-600);
            margin-bottom: var(--spacing-sm);
        }

        .lettering-card__year {
            font-size: var(--size-xs);
            color: var(--color-gray-400);
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .lettering-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__logo">
                <a href="../index.html">
                    <img src="../assets/images/logo.png" alt="The Loveprinting Machine" width="40" height="40">
                </a>
            </div>
            <nav class="nav">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="../index.html#fonts" class="nav__link">All fonts</a>
                    </li>
                    <li class="nav__item">
                        <a href="fonts-in-use.html" class="nav__link">Fonts in use</a>
                    </li>
                    <li class="nav__item">
                        <a href="lettering.html" class="nav__link nav__link--active">Custom lettering</a>
                    </li>
                    <li class="nav__item">
                        <a href="about.html" class="nav__link">About</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Lettering Hero Section (styles from components.css) -->
        <section class="lettering">
            <div class="container">
                <div class="lettering__animation">
                    <img src="../assets/animations/gif/custom-lettering.gif" alt="Custom lettering animation" class="lettering__gif">
                </div>
                <div class="lettering__content">
                    <div class="lettering__text">
                        <p>I've been creating lettering and calligraphy since 2017 — hoping that this is me chosen this field but also experimenting with animated lettering frame by frame. But I'm also experimenting with animated lettering printed of created by other.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Simple Filters Section (styles from components.css) -->
        <section class="simple-filters">
            <div class="container">
                <!-- Filters will be rendered here by the SimpleFiltersComponent -->
                <div id="letteringFilters"></div>
            </div>
        </section>

        <!-- Lettering Grid Section -->
        <section class="lettering-grid-section">
            <div class="container">
                <!-- Lettering projects will be rendered here by the SimpleFiltersComponent -->
                <div class="lettering-grid" id="letteringGrid"></div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__brand">
                    <h2 class="footer__title">The Loveprinting Machine</h2>
                    <p class="footer__subtitle">Type Foundry</p>
                </div>
                <div class="footer__nav">
                    <div class="footer__section">
                        <h3 class="footer__heading">Fonts</h3>
                        <ul class="footer__links">
                            <li><a href="../index.html#fonts" class="footer__link">All fonts</a></li>
                            <li><a href="../typeface/retiler.html" class="footer__link">Retiler</a></li>
                            <li><a href="../typeface/retry-sans.html" class="footer__link">Retry Sans</a></li>
                            <li><a href="../typeface/nytra-mono.html" class="footer__link">Nytra Mono</a></li>
                        </ul>
                    </div>
                    <div class="footer__section">
                        <h3 class="footer__heading">Work</h3>
                        <ul class="footer__links">
                            <li><a href="fonts-in-use.html" class="footer__link">Fonts in use</a></li>
                            <li><a href="lettering.html" class="footer__link">Custom letters</a></li>
                        </ul>
                    </div>
                    <div class="footer__section">
                        <h3 class="footer__heading">Info</h3>
                        <ul class="footer__links">
                            <li><a href="about.html" class="footer__link">About</a></li>
                            <li><a href="#" class="footer__link">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer__bottom">
                <div class="footer__copyright">
                    <p>&copy; 2024 The Loveprinting Machine. All rights reserved.</p>
                </div>
                <button class="footer__scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                    ↑ Back to top
                </button>
            </div>
        </div>
    </footer>

    <!-- JavaScript Modules -->
    <script src="../js/data-loader.js"></script>
    <!-- Simple Filters Component (not old filters.js) -->
    <script src="../js/simple-filters.js"></script>
    
    <script>
        // Initialize lettering filter using the modular component
        document.addEventListener('DOMContentLoaded', async function() {
            // Define custom data loader for lettering
            async function loadLetteringData() {
                try {
                    if (window.dataLoader && window.dataLoader.getLettering) {
                        const letteringData = await window.dataLoader.getLettering();
                        return letteringData.letterings || [];
                    }
                    return [];
                } catch (error) {
                    console.error('Error loading lettering:', error);
                    return [];
                }
            }

            // Define custom card renderer for lettering
            function renderLetteringCard(item) {
                const card = document.createElement('article');
                card.className = 'lettering-card';
                
                card.innerHTML = `
                    <div class="lettering-card__image">
                        <div class="lettering-placeholder">
                            ${item.title || item.name}
                        </div>
                    </div>
                    <div class="lettering-card__content">
                        <div class="lettering-card__category">${item.category}</div>
                        <h2 class="lettering-card__title">${item.title || item.name}</h2>
                        <p class="lettering-card__description">${item.description}</p>
                        <div class="lettering-card__year">${item.year}</div>
                    </div>
                `;
                
                // Add click handler if link exists
                if (item.link) {
                    card.style.cursor = 'pointer';
                    card.addEventListener('click', () => {
                        window.open(item.link, '_blank');
                    });
                }
                
                return card;
            }

            // Fallback data for lettering
            const fallbackLettering = [
                {
                    id: "coffee-logo",
                    title: "Coffee House Logo",
                    description: "Hand-lettered logo for a local coffee shop with warm, inviting character.",
                    category: "lettering",
                    year: "2024",
                    link: "https://dribbble.com/shots/coffee-house"
                },
                {
                    id: "music-poster",
                    title: "Jazz Festival Poster",
                    description: "Dynamic poster design with flowing script letterforms.",
                    category: "poster",
                    year: "2024",
                    link: "https://behance.net/gallery/jazz-poster"
                },
                {
                    id: "brand-logo",
                    title: "Artisan Bakery Logo",
                    description: "Custom logotype combining traditional and modern elements.",
                    category: "logo",
                    year: "2023",
                    link: "https://dribbble.com/shots/bakery-logo"
                },
                {
                    id: "animated-type",
                    title: "Kinetic Typography",
                    description: "Frame-by-frame animation exploring letter movement.",
                    category: "animation",
                    year: "2024",
                    link: "https://codepen.io/lettering-animation"
                },
                {
                    id: "playful-letters",
                    title: "Alphabet Playground",
                    description: "Experimental letterforms pushing creative boundaries.",
                    category: "playfaces",
                    year: "2023",
                    link: "https://instagram.com/p/playfaces"
                },
                {
                    id: "festival-branding",
                    title: "Music Festival Branding",
                    description: "Bold lettering system for summer music festival.",
                    category: "lettering",
                    year: "2023",
                    link: "https://behance.net/gallery/festival-branding"
                },
                {
                    id: "book-cover",
                    title: "Novel Cover Lettering",
                    description: "Hand-drawn title lettering for literary fiction book.",
                    category: "poster",
                    year: "2024",
                    link: "https://dribbble.com/shots/book-cover"
                },
                {
                    id: "restaurant-logo",
                    title: "Italian Restaurant Logo",
                    description: "Classic script lettering for authentic Italian cuisine.",
                    category: "logo",
                    year: "2023",
                    link: "https://behance.net/gallery/italian-restaurant"
                }
            ];

            // Initialize using the factory function from simple-filters.js
            const letteringFilter = createLetteringFilter({
                dataLoader: loadLetteringData,
                fallbackData: fallbackLettering,
                cardRenderer: renderLetteringCard,
                onFilterChange: (filter, data) => {
                    console.log(`Filter changed to: ${filter}, showing ${data.length} lettering projects`);
                },
                onDataLoad: (data) => {
                    console.log(`Loaded ${data.length} lettering projects`);
                }
            });

            // Store instance globally if needed for debugging
            window.letteringFilterInstance = letteringFilter;
        });
    </script>
</body>
</html>